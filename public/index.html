for (var i = 0; i < data.stationboard.length; i++) {
                        var t = data.stationboard[i];
                        var cat = t.category;
                        var line = cat + (t.number || '');
                        var platform = t.stop.platform || '-';
                        
                        var cClass = 'col-line';
                        if (cat === 'S' || cat === 'SN') cClass += ' s';
                        if (cat === 'IC' || cat === 'ICE') cClass += ' ic';
                        if (cat === 'IR' || cat === 'RE') cClass += ' ir';

                        // CORREÇÃO PARA IPAD ANTIGO:
                        // Transformamos "2024-05-20T10:00:00+0200" em algo que o Safari aceite
                        var dateStr = t.stop.departure.replace(/-/g, "/").replace(/T/g, " ").split("+")[0];
                        var depTime = new Date(dateStr);
                        var now = new Date();
                        var diff = Math.round((depTime - now) / 60000);

                        var timeDisplay = diff + ' MIN';
                        if (diff <= 0) {
                            timeDisplay = '<span class="blink">PARTIDA</span>';
                        }

                        html += '<div class="row">' +
                                '<span class="' + cClass + '">' + line + '</span>' +
                                '<span class="col-dest">' + t.to.toUpperCase().substring(0, 14) + '</span>' +
                                '<span class="col-plat">' + platform + '</span>' +
                                '<span class="col-time">' + timeDisplay + '</span>' +
                                '</div>';
                    }
