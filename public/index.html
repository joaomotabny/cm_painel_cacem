<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ZURICH HB</title>
    <style>
        body { 
            background-color: #000; 
            color: #fff; 
            font-family: "Courier New", Courier, monospace; 
            margin: 0; 
            padding: 15px; 
            text-transform: uppercase;
        }
        
        .header { 
            font-size: 20px; 
            color: #444; 
            border-bottom: 2px solid #222; 
            height: 30px;
            margin-bottom: 10px;
        }
        
        #clock { float: right; color: #fff; }
        
        .row { 
            clear: both; 
            font-size: 32px; 
            border-bottom: 1px solid #111; 
            height: 50px; 
            line-height: 50px;
            letter-spacing: 1px;
        }
        
        .col-line { float: left; width: 20%; font-weight: bold; }
        .col-dest { float: left; width: 50%; color: #ccc; overflow: hidden; }
        .col-plat { float: left; width: 10%; color: #ff9900; text-align: center; }
        .col-time { float: left; width: 20%; text-align: right; }
        
        .ic { color: #ff3333; }
        .s { color: #ffff00; }
        
        @keyframes blinker { 50% { opacity: 0; } }
        .blink { animation: blinker 1s linear infinite; color: #ff3333; font-weight: bold; }
    </style>
</head>
<body>
    <div class="header">
        <span>ZURICH HB</span>
        <span id="clock">00:00</span>
    </div>
    <div id="list">LADEN...</div>

    <script>
        function setClock() {
            var now = new Date();
            var h = now.getHours();
            var m = now.getMinutes();
            if (h < 10) h = "0" + h;
            if (m < 10) m = "0" + m;
            document.getElementById('clock').innerHTML = h + ":" + m;
        }

        function updateBoard() {
            var xhr = new XMLHttpRequest();
            var url = 'https://transport.opendata.ch/v1/stationboard?station=Zurich,HB&limit=10';
            
            xhr.open('GET', url, true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    try {
                        var data = JSON.parse(xhr.responseText);
                        var html = '';
                        var board = data.stationboard;
                        
                        for (var i = 0; i < board.length; i++) {
                            var t = board[i];
                            var cat = t.category;
                            var line = cat + (t.number || '');
                            var platform = t.stop.platform || '-';
                            
                            var cClass = 'col-line';
                            if (cat === 'S' || cat === 'SN') cClass += ' s';
                            if (cat === 'IC' || cat === 'ICE') cClass += ' ic';

                            // Tratamento de data para Safari Antigo
                            var dStr = t.stop.departure.replace(/-/g, "/").replace("T", " ").split("+")[0];
                            var diff = Math.round((new Date(dStr) -
